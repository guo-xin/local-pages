<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>

<body>

</body>
<script>
	/* @desc: 逻辑或||
	 *运算符将返回第一个true/‘truthy’的值
	 * 当所有的操作数都是false时，将返回最后一个表达式的结果
	 * 0，'',null，NaN，undefined都被视为false
	 */
	console.log(undefined || 'default', '逻辑或'); // default
	console.log(0 || 'default', '逻辑或'); // default
	console.log(null || 'default', '逻辑或'); // default
	console.log(NaN || 'default', '逻辑或'); // default
	console.log('' || 'default', '逻辑或'); // default
	console.log(false || 'default', '逻辑或'); // default


	/**
	 * @desc: 零合并操作符（空值合并运算符） ??
	 * 对||的一个补充和完成
	 * 只会在左侧为 undefined、null时才返回后者
	 * 0,'',NaN,false会正常返回
	 * 
	 */
	console.log(undefined ?? 'default', '零合并操作符'); // default
	console.log(null ?? 'default', '零合并操作符'); // default

	console.log(0 ?? 'default', '零合并操作符'); // 0
	console.log(NaN ?? 'default', '零合并操作符'); // NaN
	console.log('' ?? 'default', '零合并操作符'); // ''
	console.log(false ?? 'default', '零合并操作符'); // false

	/**
	 * @desc: 赋值
	 */
	let a = { b: null, c: 10 }
	a.b ??= 20
	a.c ??= 20
	console.log(a) // 输出 { b: 20, c: 10 }

	/**
	 * @desc: 可选链操作符 ?.
	 * ?. 操作符的功能类似于.链式操作符
	 * 任何不确定的地方都可以使用?.
	 */
	const obj = {
		a: 'foo',
		b: {
			c: 'bar'
		}
	}

	console.log(obj.b?.c, '属性') // 输出 bar
	console.log(obj.d?.c, '属性') // 输出 undefined
	console.log(obj.func?.(), '方法') // 不报错，输出 undefined
	console.log(null?.join(''), '方法') // 不报错，输出 undefined
	console.log(obj?.[0]?.b, '数组') // 不报错，输出 undefined
	console.log(a?.v, '对象属性'); // 不会报错 undefined
</script>
</html>