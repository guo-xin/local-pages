<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>number的一些方法</title>
  </head>

  <body>
    number的一些方法
  </body>
  <script>
    /**
     * @desc: 规范写法是引用Math, Number下相关属性, 不使用全局方法
     */
    // Number.MAX_SAFE_INTEGER 最新正整数
    // Number.MIN_SAFE_INTEGER 最小负整数
    // 2 ^ 53 - 1  = Math.pow(2, 53) - 1 // 9007199254740991
    console.log(Number.MAX_SAFE_INTEGER, 'Number.MAX_SAFE_INTEGER')
    console.log(Number.MIN_SAFE_INTEGER, 'Number.MIN_SAFE_INTEGER')

    /**
     * @desc: Number.isNaN，判断是否NaN
     * isNaN与Number.isNaN的区别
     * isNaN在判断之前会做一个强制转换，转换为number类型
     * Number.isNaN较为准确，只判断NaN
     */
    console.log(Number.isNaN(NaN), 'NaN') // true
    console.log(Number.isNaN(1), 1) // false
    console.log(Number.isNaN(''), '') // false
    console.log(Number.isNaN('2'), '2') // false
    console.log(Number.isNaN('a'), 'a') // false
    console.log(Number.isNaN(null), null) // false
    console.log(Number.isNaN(undefined), undefined) // false

    console.error('----------', 'isNaN')

    console.log(isNaN(NaN), NaN) // true
    console.log(isNaN(undefined), undefined) // true
    console.log(isNaN(null), null) // false
    console.log(isNaN(''), '') // false
    console.log(isNaN('2'), '2') // false
    console.log(isNaN('a'), 'a') // true

    console.error('----------', 'Number.parseInt')

    /**
     * @desc: Number.parseInt(string, radix),将数字或字符转换成数字
     * 第一个参数是number类型也可以兼容,
     * radix是要解析数字的基数，介于2~36之间，省略或者为0时以10来解析
     */
    console.log(Number.parseInt('33', 4), '33') // 15
    console.log(Number.parseInt('33', 2), '33') // NaN
    console.log(Number.parseInt(33), '33') // 33

    console.error('----------', 'Number.parseFloat')
    /**
     * @desc: Number.parseFloat(string),解析成浮点数，无法解析返回NaN
     * number类型也可以解析
     * 返回值为数字
     */
    console.log(Number.parseFloat('33.f'), '33') // 33
    console.log(Number.parseFloat(null), 'NaN') // NaN
    console.log(Number.parseFloat(33.3), '33.3') // 33.3
    console.log(Number.parseFloat(33), '33') // 33
    console.log(Number.parseFloat(undefined), 'undefined') // NaN

    console.error('----------', 'Number.isInteger')

    let a = new Error('333')
    console.log(a, 3333) // 打印new error
    /**
     * @desc: Number.isInteger() 判断是否为整数
     */
    console.log(Number.isInteger(2), 2) // true
    console.log(Number.isInteger('2'), '2') // false
    console.log(Number.isInteger(2.1), 2.1) // false
    console.log(Number.isInteger(2.0), 2.0) // true
    console.log(Number.isInteger(-2), -2) // true
    console.log(Number.isInteger(null), null) // false
    console.log(Number.isInteger(NaN), NaN) // false

    console.error('----------', 'toFixed')
    /**
     * @desc: number.toFixed(number) 四舍五入，返回字符
     * number保留小数位数
     */
    console.log((2.33).toFixed(1), 2.33) // 2.3
    console.log((2).toFixed(2), 2) // 2.00

    console.error('----------', 'valueOf')
    /**
     * @desc: number.valueOf() 取数值的原始值
     *可用于去末尾的零
     */
    console.log((2.33).valueOf(), 2.33) // 2.33
    console.log((2.3).valueOf(), 2.3) // 2.3

    console.error('----------', 'toPrecision')

    /**
     * @desc: number.toPrecision(length)，处理精度
     * length有效数字长度，从左至右第一个不为0的数开始数起
     * 可用于科学计数法
     * 返回字符
     */
    console.log((2.33).toPrecision(4), 2.33) // '2.330'
    console.log((1012).toPrecision(2), 1012) // '1.0e+3'

    console.log(Number(undefined), 'undefined') // NaN
    console.log(Number(null), 'null') // 0
  </script>
</html>
